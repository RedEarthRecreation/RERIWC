<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <title>Red Earth Recreation Flora Album</title>
  </head>
  <body class="body">
    <div class="gradient-overlay">
      <div class="theme">
        <div class="image-camp">
          <header>
            <h1 class="title"><span Class="Red">Red Earth</span> Recreation</h1>
            <h2 class="TagLine"><span Class="Red">Flora Album</span></h2>
          </header>
        </div>
        <div class="border">
          <div class="borderback"></div>
          <nav class="HamMenu">
            <ul id="menuToggle">
              <!--
      A fake / hidden checkbox is used as click reciever,
      so you can use the :checked selector on it.
      -->
              <input
                type="checkbox"
                style="right: 0px; bottom: 0px; top: 0px"
              />
              <!--
      Some spans to act as a hamburger.
      
      They are acting like a real hamburger,
      not that McDonalds stuff.
      -->
              <span></span>
              <span></span>
              <span></span>

              <!--
      Too bad the menu has to be inside of the button
      but hey, it's pure CSS magic.
      -->
              <ul id="menu">
                <a href="index.html"><li>Home</li></a>
                <a href="#"><li>About</li></a>
                <a href="#"><li>Rules</li></a>
                <a href="#"><li>Booking</li></a>
                <a href="#"><li>Contact</li></a>
              </ul>
            </ul>
          </nav>
          <nav class="links">
            <ul class="dropdown2">
              <button class="dropbtn2">Sites</button>
              <div class="dropdown-content2">
                <li>
                  <button>ATV</button>
                </li>
                <li>
                  <a href="https://www.google.ca"><button>RV</button></a>
                </li>
                <li>
                  <button class="last">Tent</button>
                </li>
              </div>
            </ul>
            <ul class="dropdown">
              <button class="dropbtn">ATV</button>
              <div class="dropdown-content">
                <li>
                  <a href="Sites.html"><button>Sites</button></a>
                </li>
                <li>
                  <a
                    href="https://ridepei.ca/trail-maps-information"
                    onclick="window.open(this.href,'_blank');return false;"
                    ><button class="last">Trails</button></a
                  >
                </li>
              </div>
            </ul>
            <ul class="dropdown3">
              <a href="gallery.html"
                ><button class="dropbtn3">Gallery</button></a
              >
              <div class="dropdown-content3">
                <li><a href=""></a><button>Trail</button></li>
                <li>
                  <a href="AlbumFlora.html"><button>Flora</button></a>
                </li>
                <li>
                  <a href="AlbumFauna.html"
                    ><button class="last">Fauna</button></a
                  >
                </li>
              </div>
            </ul>
          </nav>
        </div>

        <div class="Info3">
          <script>
            function myFunction(imgs) {
              // Get the expanded image
              var expandImg = document.getElementById("expandedImg");
              // Get the image text
              var imgText = document.getElementById("imgtext");
              // Use the same src in the expanded image as the image being clicked on from the grid
              expandImg.src = imgs.src;
              // Use the value of the alt attribute of the clickable image as text inside the expanded image
              imgText.innerHTML = imgs.alt;
              // Show the container element (hidden with CSS)
              expandImg.parentElement.style.display = "block";

              // Scroll the page to center the expanded image
              var viewportWidth =
                window.innerWidth || document.documentElement.clientWidth;
              var viewportHeight =
                window.innerHeight || document.documentElement.clientHeight;
              var container = expandImg.parentElement;
              var containerWidth = container.offsetWidth;
              var containerHeight = container.offsetHeight;
              var containerTop =
                container.getBoundingClientRect().top + window.pageYOffset;
              var containerLeft =
                container.getBoundingClientRect().left + window.pageXOffset;
              var targetLeft =
                containerLeft - (viewportWidth - containerWidth) / 2;
              var targetTop =
                containerTop - (viewportHeight - containerHeight) / 2;
              window.scrollTo(targetLeft, targetTop);
            }

            function closeExpandedImg() {
              // Hide the container element (hidden with CSS)
              var expandImgContainer = document.querySelector(".container");
              expandImgContainer.style.display = "none";

              // Scroll the page to center .Info3
              var viewportWidth =
                window.innerWidth || document.documentElement.clientWidth;
              var viewportHeight =
                window.innerHeight || document.documentElement.clientHeight;
              var info3 = document.querySelector(".Info3");
              var info3Width = info3.offsetWidth;
              var info3Height = info3.offsetHeight;
              var info3Top =
                info3.getBoundingClientRect().top + window.pageYOffset;
              var info3Left =
                info3.getBoundingClientRect().left + window.pageXOffset;
              var targetLeft = info3Left - (viewportWidth - info3Width) / 2;
              var targetTop = info3Top - (viewportHeight - info3Height) / 2;
              window.scrollTo(targetLeft, targetTop);
            }
          </script>

          <div id="Floraimg">
            <p class="subtitles">Flora</p>

            <!-- The expanding image container -->
            <div class="container">
              <!-- Close the image -->
              <span
                onclick="this.parentElement.style.display='none'; closeExpandedImg()"
                class="closebtn"
                >&times;</span
              >

              <!-- Expanded image -->
              <img id="expandedImg" style="width: 100%" />

              <!-- Image text -->
              <div id="imgtext"></div>
            </div>

            <div class="row" onscroll="updateProgressBar()"></div>
            <div class="progress-container">
              <div class="progress-bar" id="myBar"></div>
            </div>
            <script>
              function updateProgressBar() {
                var container = document.querySelector(".row");
                var scrollLeft = container.scrollLeft;
                var scrollWidth = container.scrollWidth - container.clientWidth;
                var scrolled = (scrollLeft / scrollWidth) * 100;
                document.getElementById("myBar").style.width = scrolled + "%";
              }
            </script>
            <script>
              const imagesFolder = "https://redearthrecreation.github.io/flora/"; // specify the folder path here
              const row = document.querySelector(".row");

              const xhr = new XMLHttpRequest();
              xhr.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                  const parser = new DOMParser();
                  const htmlDoc = parser.parseFromString(
                    this.responseText,
                    "text/html"
                  );
                  const images = htmlDoc.querySelectorAll(
                    "a[href$='.jpg'],a[href$='.JPG'], a[href$='.png'], a[href$='.gif']"
                  );

                  images.forEach((img) => {
                    const div = document.createElement("div");
                    div.className = "column"; // add the new CSS class

                    const image = document.createElement("img");
                    image.src =
                      imagesFolder +
                      img
                        .getAttribute("href")
                        .replace(/^\/+/, "")
                        .replace(/^flora\/+/, "");
                    image.alt = img.textContent;
                    image.onclick = function () {
                      myFunction(this);
                    };

                    div.appendChild(image);
                    row.appendChild(div);
                  });
                }
              };
              xhr.open("GET", imagesFolder);
              xhr.send();
            </script>

            <p class="clickit">click above to scroll album</p>
          </div>
        </div>

        <div class="footer-basic2">
          <footer>
            <div class="social">
              <a href="#"
                ><svg
                  class="fbicon"
                  xmlns="http://www.w3.org/2000/svg"
                  width="100%"
                  height="100%"
                  viewBox="0 0 24 24"
                >
                  <path
                    fill="white"
                    d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z"
                  />
                </svg>
              </a>
            </div>
            <p class="fbactioncall">Like and Follow RER</p>
            <hr
              style="
                height: 2px;
                border-width: 0;
                color: gray;
                background-color: rgba(198, 198, 198);
              "
            />
            <ul class="list-inline">
              <li class="list-inline-item"><a href="index.html">Home</a></li>
              <li class="list-inline-item"><a href="#">Services</a></li>
              <li class="list-inline-item"><a href="#">About</a></li>
              <li class="list-inline-item"><a href="#">Sitemap</a></li>
              <li class="list-inline-item"><a href="#">Rules</a></li>
            </ul>
            <p class="copyright">Company Name © 2023</p>
          </footer>
        </div>
      </div>
    </div>
  </body>
</html>
